# Сравнение различных библиотек для визуализации данных: Matplotlib, Seaborn и Plotly:

## Содержание
1. [Задачи проекта](#1)
2. [Описание проекта](#2)
3. [Установка](#3)
4. [Реализация проекта](#4)
   - [Библиотека Matplotlib](#4.1)
   - [Библиотека  Seaborn](#4.2)
   - [Библиотека Plotly](#4.3)
5. [Сравнение бибилиотек Matplotlib, Seaborn и Plotly](#5)


<a id="1"></a>
## Задачи проекта
Этот проект предназначен для сравнения трех популярных библиотек Python для визуализации данных: Matplotlib, Seaborn и Plotly.
В ходе реализации проекта рассмотрим основной функционал библиотек, область применения, преимущества и недостатки. 


<a id="2"></a>
## Описание проекта
В рамках реализации проекта рассмотрим базовый функционал визуализации каждой из библиотек.  


<a id="3"></a>
## Установка
Для установки проекта необходимо выполнить установку библиотек. Её можно выполнить по следующей команде:
```sh
pip install -r requirements.txt.
```

<a id="4"></a>
## Реализация проекта

<a id="4.1"></a>
### Библиотека Matplotlib

Matplotlib, наверное, самая популярная библиотека для визуализации данных в Python. Она используется для создания любых видов графиков: линейных, круговых, столбчатых диаграмм, а также есть возможность реализации - 3D-граффики. Условно, можно разбить Matplotlib на 2 модуля: PyPlot и PyLab. При этом PyLab в большей степени отвечает за взаимодействие рендера с датафреймом, PyPlot же осуществляет непосредственное построение осей, фигур и иных элементов, а также 
позволяет комбинировать фигуры, выборочно меняя их свойства и отображение.


#### В ходе рассмотрения нами будут пройдены 4 этапа работы с функционалом библиотеки:
  - Инициализация.<br>Подключаем библиотеку и импортируем все необходимые зависимости.
```python
import numpy as np
import matplotlib.pyplot as plt
```
  - Подготовка.<br>Обозначаем оси, задаем вводные данные.
```python
x = np.linspace(0, 10*np.pi, 100)
y = np.sin(x)
```
  - Отрисовка.<br>Указываем размер, тип и особенности отображения фигуры на основе вводных данных.
```python
fig, ax = plt.subplots() 
ax.plot(x, y)
```
  - Наблюдение.<br>Изучаем построенную фигуру.
```python
plt.show()
```
![Sin](plt_sin.png)

#### По такому принципу строятся все базовые визуализации библиотеки, такие как:
 - Диаграмма рассеяния
![Диаграмма рассеяния](plt_scatter.png)
```python
x = np.random.uniform (0, 1, 1000)
y = np.random.uniform (0, 1, 1000)
ax.scatter(x,y)
```
 - Гистограмма
![Гистограмма](plt_bar.png)
```python
x = np.arange (10)
y = np.random.uniform (0, 1, 10)
ax.bar(x,y
```
 - 'Тепловая карта'
![Тепловая карта](plt_imshow.png)
```python
z = np.random.uniform (0, 1, (8,8))
ax.imshow(z)
```
 - Контурная визуализация тепловой карты
![Контурная визуализация тепловой карт](plt_contourf.png)
```python
z = np.random.uniform (0, 1, (8,8))
ax.contourf(z)
```
 - Круговая диаграмма
![Круговая диаграмма](plt_pie.png)
```python
z = np.random.uniform (0, 1, 5)
label = ['Subaru', 'Honda', 'Toyota', 'Suzuki', 'Mitsubishi']
exp = [0.07, 0.02, 0, 0, 0.01]
fig, (ax) = plt.subplots()
plt.title('Ваша марка машины?', fontsize=16)
ax.pie(z, labels=label, explode=exp).
```
Стоит отметить богатый функционал объектно-ориентированного подхода. Без использования сторонних возможностей мы можем форматировать отображаемые данные:
 - объединяя несколько отображений для повышения информативности 
![Вариант компиляции 1](plt_comp1.png)
```python
#Вариант компиляции 1
x = np.arange (10)
y = np.random.uniform (0, 1, 10)
ax.plot(x,y, color = 'green')
ax.bar(x,y)
```
 - или разнести их по разным полям отображения, изменяя стили, цвет и виды элементов построения.
![Вариант компиляции 2](plt_comp2.png)
```python
x=np.linspace(0, 10, 100)
y1, y2 = np.sin(x), np.cos(x)
fig, (ax1, ax2) = plt.subplots(2, 1)
ax1.set_title('Sin wave')
ax2.set_title('Cos wave')
ax1.plot(x, y1, color='C1', label='Sin', lw=5, linestyle='--')
ax2.plot(x, y2, color='C0', label='Cos', lw=2, marker='.')
```
Работа с 3D изображением, также встроена в библиотеку.
![3D](plt_3d.png)
```python
f = plt.figure(figsize=(15, 10))
ax_3d = f.add_subplot(projection='3d')
z = np.linspace(0, 1, 100)
x = z * np.sin(50 * z)
y = z * np.cos(50 * z)
ax_3d.scatter(x, y, z, color='red', alpha=1)
ax_3d.set_xlabel('x', size='15')
ax_3d.set_ylabel('y', size='15')
ax_3d.set_zlabel('z', size='15')
```
Однако, при всей базовой простоте и обилии возможностей настройки matplotlib имеет проблемы с обработкой больших данных в реальном времени. Построение более сложных визуальных конструкций требует написания значительного количества дополнительного кода.
 
<a id="4.2"></a>
### Библиотека Seaborn.
Seaborn — это библиотека для анализа данных и создания статистических графиков на Python. Она основывается на matplotlib и тесно взаимодействует со структурами данных pandas, что позволяет ей захватывать датасеты целиком. Огромным плюсом для новичков является еще более упрощенная архитектура построения визуализации. Рассмотрим детальней.<br>
Гистограмма
![гистограмма](sea_1.png)
```python
x = ['А', 'Б', 'В']
y = [10, 50, 30]
sns.barplot(x=x, y=y)
```
Функционал базовых построений в библиотеке seaborn схож с библиотекой matplotlib, в виду их прямой зависимости. Отдельно следует рассмотреть возможность работы в seaborn со всем датасетом сразу с выделением необходимых характеристик.<br>
Диаграмма рассеяния 
![Диаграмма](Gist.png)
```python
tips = sns.load_dataset("tips")
sns.relplot(
    data=tips,
    x="total_bill", y="tip", col="time",
    hue="smoker", style="smoker", size="size",
)
```
На данном распределении мы видим предоставление чаевых за обслуживание, курящими и не курящими посетителями, в зависимости от приема пищи. Представим эти же данные в виде скрипичной диаграммы:<br>
![Диаграмма](viol.png)
```python
sns.catplot(data=tips, kind="violin", x="day", y="total_bill", hue="smoker", split=True)
```
При обоих построениях дополнительная обработка данных не потребовалась, библиотека с построением справилась. А что если взуализировать весь датасет сразу по нескольким параметрам?<br>
Составная диаграмма
![Составная диаграмма](Ping.png)
```python
df = sns.load_dataset("penguins")
sns.pairplot(df, hue="species")
```
При всех своих неоспоримых плюсах, Seaborn обладает и рядом минусов, в частности обработка больших датасетов, 3D и интерактивных изображений все также ресурсозатратно, с возможными значительными замедлениями работы при отрисовке; часть функционала вовсе не была затронута и осталась на исполнении matplotlib.
<a id="4.3"></a>
### Библиотека Plotly.
Plotly - кросплатформенная библиотека визуализации данных, на основе Seaborn. Библиотека условно-бесплатная с открытым исходным кодом. Ключевой особенностью библиотеки является возможность строить интерактивные визуализации с изменением некоторых данных 'на лету', а также наличие совместно с Flask специальной библиотеки для создания дашбордов.
Рассмотрение начнем от базового функционала, в частности - график линейной функции.
![Линейный график](newplot.png)
```python
#Подготовка
x = np.arange(0, 1000, 0.1)
def f(x):
    return x**2
#Отрисовка
fig = px.scatter(x=x, y=f(x))
#Наблюдение
fig.show()
```
Сразу обращаем внимание на полную интерактивность визуализации, а также отображение на возможностях браузера. Добавим отображение еще одной зависимости.
![Линейный график2](newplot(1).png)
```python
fig.add_trace(go.Scatter(x=x, y=f2(x)))
```
Правила отображения применились и ко второй зависимости, с возможностью отключения отображения. Но это мы уже видели и в рассмотренных выше библиотеках. 
![отображение в 3D](newplot(2).png)
```python
z3d = np.linspace(0, 1, 100)
x3d = z3d * np.sin(50 * z3d)
y3d = z3d * np.cos(50 * z3d)
fig3d = go.Figure(data=[go.Scatter3d(
    x=x3d,
    y=y3d,
    z=z3d,
    mode='markers',
    marker=dict(
        size=1,
        color="red",
        colorscale='Viridis',
        opacity=0.7
    )
)])
fig3d.show()
```
Данная визуализация алгоритмов синуса и косинуса функций аналогична рассмотренной нами в библиотеке matplotlib. За счет большей интерактивности отображения повысилась информативность. <br>Ну и конечно возможность отображения анимации и создание графиков с шаговой анимацией(слайдер, ползунок).
![Шаговая анимация](newplot(3).png)
```python
# Создание графика с шаговой анимацией.
fig = go.Figure()
# Создание графика
for step in np.arange(0, 20, 0.1):
    fig.add_trace(
        go.Scatter(
            visible=False,
            line=dict(color="GREEN", width=5),
            name="f(x) = " + str(step),
            x=np.arange(0, 20, 0.1),
            y=np.sin(step * np.arange(0, 20, 0.1))))
# Отображение начального положения графика
fig.data[0].visible = True
# Создание ползунка
steps = []
for i in range(len(fig.data)):
    step = dict(
        method="update",
        args=[{"visible": [False] * len(fig.data)},
              {"title": "Ползунок переключился на шаг: " + str(i)}],
    )
    step["args"][0]["visible"][i] = True
    steps.append(step)
sliders = [dict(
    active=10,
    currentvalue={"prefix": "Частота: "},
    pad={"t": 50},
    steps=steps
)]
fig.update_layout(
    sliders=sliders
)
fig.show()
```
<a id="5"></a>
## Сравнение бибилиотек Matplotlib, Seaborn и Plotly
  <p>Все рассмотренные нами выше библиотеки визуализации имеют свои плюсы и минусы. Может сложится впечатление, что Plotly является гармоничным завершением процесса эволюции библиотек визуализации. Однако рынок показывает, что даже старожил matplotlib все еще является необходимым инструментов в арсенале разработчиков, как и seaborn, с его упрощенной визуализацией и работой с датафреймами, хотя при этом он и недотягивает в плане интерактивности до Plotly. Наличие Plotly не отменяет Matplotlib, как fastAPI не отменяет Django, и это позволяет разработчикам использовать разный инструментарий в зависимости от требований конкретной задачи.</p>

